<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <defs>
    <style>
      .box { fill: #f8f9fa; stroke: #dee2e6; stroke-width: 2; rx: 8; }
      .box-aws { fill: #fff3e0; stroke: #ff9800; }
      .box-github { fill: #f3e5f5; stroke: #9c27b0; }
      .box-asg { fill: #e3f2fd; stroke: #2196f3; }
      .box-warmpool { fill: #fff8e1; stroke: #ffc107; }
      .box-lambda { fill: #e8f5e9; stroke: #4caf50; }
      .box-instance { fill: #ffffff; stroke: #90a4b4; stroke-width: 1.5; }
      .text-title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #333; }
      .text-label { font-family: Arial, sans-serif; font-size: 12px; fill: #555; }
      .text-small { font-family: Arial, sans-serif; font-size: 10px; fill: #777; }
      .arrow { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .arrow-dashed { stroke: #999; stroke-width: 1.5; stroke-dasharray: 5,5; fill: none; marker-end: url(#arrowhead-gray); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
    <marker id="arrowhead-gray" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#999"/>
    </marker>
  </defs>
  
  <!-- GitHub Section -->
  <rect x="20" y="20" width="200" height="120" class="box box-github"/>
  <text x="120" y="45" text-anchor="middle" class="text-title">GitHub</text>
  
  <rect x="40" y="60" width="160" height="30" class="box-instance"/>
  <text x="120" y="80" text-anchor="middle" class="text-label">Workflow Triggered</text>
  
  <rect x="40" y="95" width="160" height="30" class="box-instance"/>
  <text x="120" y="115" text-anchor="middle" class="text-label">Job Queue</text>
  
  <!-- AWS Section -->
  <rect x="20" y="160" width="860" height="420" class="box box-aws"/>
  <text x="450" y="185" text-anchor="middle" class="text-title">AWS Account</text>
  
  <!-- ASG Section -->
  <rect x="40" y="200" width="400" height="200" class="box box-asg"/>
  <text x="240" y="225" text-anchor="middle" class="text-title">Auto Scaling Group</text>
  
  <!-- Runner Instances -->
  <rect x="60" y="245" width="110" height="50" class="box-instance"/>
  <text x="115" y="265" text-anchor="middle" class="text-label">Runner 1</text>
  <text x="115" y="280" text-anchor="middle" class="text-small">(active)</text>
  
  <rect x="180" y="245" width="110" height="50" class="box-instance"/>
  <text x="235" y="265" text-anchor="middle" class="text-label">Runner 2</text>
  <text x="235" y="280" text-anchor="middle" class="text-small">(idle)</text>
  
  <rect x="300" y="245" width="110" height="50" class="box-instance"/>
  <text x="355" y="265" text-anchor="middle" class="text-label">Runner 3</text>
  <text x="355" y="280" text-anchor="middle" class="text-small">(busy)</text>
  
  <!-- Warm Pool -->
  <rect x="60" y="310" width="350" height="70" class="box box-warmpool"/>
  <text x="235" y="335" text-anchor="middle" class="text-title">Warm Pool (Hibernated)</text>
  
  <rect x="80" y="345" width="80" height="25" class="box-instance"/>
  <text x="120" y="362" text-anchor="middle" class="text-small">Standby</text>
  
  <rect x="170" y="345" width="80" height="25" class="box-instance"/>
  <text x="210" y="362" text-anchor="middle" class="text-small">Standby</text>
  
  <text x="310" y="362" text-anchor="middle" class="text-small">â†‘ Ready in seconds</text>
  
  <!-- Lambda Section -->
  <rect x="480" y="200" width="380" height="180" class="box box-lambda"/>
  <text x="670" y="225" text-anchor="middle" class="text-title">Lambda Functions</text>
  
  <rect x="500" y="245" width="150" height="40" class="box-instance"/>
  <text x="575" y="270" text-anchor="middle" class="text-label">Registration</text>
  
  <rect x="690" y="245" width="150" height="40" class="box-instance"/>
  <text x="765" y="270" text-anchor="middle" class="text-label">Deregistration</text>
  
  <rect x="500" y="300" width="150" height="40" class="box-instance"/>
  <text x="575" y="325" text-anchor="middle" class="text-label">Record Metric</text>
  
  <text x="575" y="355" text-anchor="middle" class="text-small">Publishes idle</text>
  <text x="575" y="368" text-anchor="middle" class="text-small">runner count</text>
  
  <!-- CloudWatch -->
  <rect x="480" y="420" width="180" height="60" class="box-instance"/>
  <text x="570" y="445" text-anchor="middle" class="text-label">CloudWatch Alarm</text>
  <text x="570" y="460" text-anchor="middle" class="text-small">(idle runners)</text>
  
  <!-- Scaling Policies -->
  <rect x="680" y="420" width="180" height="60" class="box-instance"/>
  <text x="770" y="445" text-anchor="middle" class="text-label">ASG Scaling Policy</text>
  <text x="770" y="460" text-anchor="middle" class="text-small">Step scaling</text>
  
  <!-- Secrets Manager -->
  <rect x="40" y="420" width="180" height="60" class="box-instance"/>
  <text x="130" y="445" text-anchor="middle" class="text-label">Secrets Manager</text>
  <text x="130" y="460" text-anchor="middle" class="text-small">GitHub credentials</text>
  
  <!-- SSM -->
  <rect x="240" y="420" width="180" height="60" class="box-instance"/>
  <text x="330" y="445" text-anchor="middle" class="text-label">SSM</text>
  <text x="330" y="460" text-anchor="middle" class="text-small">Commands &amp; config</text>
  
  <!-- Arrows -->
  <!-- GitHub to Runners -->
  <path d="M 120 140 L 120 160 L 240 160 L 240 200" class="arrow"/>
  <text x="185" y="175" class="text-small">Register/Pick jobs</text>
  
  <!-- Record Metric to CloudWatch -->
  <path d="M 575 340 L 575 420" class="arrow"/>
  
  <!-- CloudWatch to Scaling Policy -->
  <path d="M 660 450 L 680 450" class="arrow"/>
  
  <!-- Scaling Policy to ASG -->
  <path d="M 770 420 L 770 400 L 440 400 L 440 300" class="arrow"/>
  <text x="550" y="395" class="text-small">Scale up/down</text>
  
  <!-- ASG to Lambda (lifecycle hooks) -->
  <path d="M 440 270 L 500 270" class="arrow-dashed"/>
  <text x="460" y="260" class="text-small">Lifecycle</text>
  
  <!-- Lambda to Secrets -->
  <path d="M 500 280 L 220 280 L 220 420" class="arrow-dashed"/>
  
  <!-- Lambda to SSM -->
  <path d="M 765 285 L 765 395 L 330 395 L 330 420" class="arrow-dashed"/>
  
</svg>
